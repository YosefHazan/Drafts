<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>yyFunTest</title>
        <script src="C:\yosef_mesudar\yosef_Chazan\אתרים וכתיבה\אתר בדיקות\אתר\אטוטמציה בjs\jquery-3.2.1.min.js"></script>
        <!--script type="text/javascript" src="jquery.xpath.js"></script-->
        <script>
            $(document).ready(function(){
                var inputUrl;
                var yyThisID;
                var yyThisClass;
                var yyThisTagName;
                var yyThisAllinput;
                var yyGetHtml;
                //var yyThisXpath;
                
                // var for get user input
                var inputIDID;
                var inputClass;
                var inputTagName;
                var inputVal;
                // var foe get property
                var yyID;
                var yyClass;
                var yyTagName;
                var yyValue;
                var yyText; 
                
                //URL
                $("#RunUrl").click(function(){
                    inputUrl = $("#yy-eUrl").val();
                    $("#iframeResult").attr("src", inputUrl);
                });
                
                //TODO:function for get element that i`m clicek on them
                //$("#???").click(function(){
                
                //});
                
                //function that click on tag "a" and check is correct link
                function checkA(listA){
                    $(listA).each(function(index, element){
                        //get current url
                        //var FirstPathname = window.location.pathname; // Returns path only
                        //var FirstUrl      = window.location.href;     // Returns full URL
                        var FirstIframeUrl = $("#iframeResult").attr('src');
                        //$(this).click();
                        //check current url
                        //var SecPathname = window.location.pathname; // Returns path only
                        //var SecUrl      = window.location.href;     // Returns full URL
                        var SecIframeResult = $(this).attr('href');
                        $("#iframeResult").attr('src', SecIframeResult);/*
                        if(FirstIframeUrl.search(FirstPathname) || SecUrl.search(FirstUrl)){
                                alert("(:");
                        }
                        else{
                                alert("):");
                                $("#iframeResult").attr('src', FirstIframeUrl);
                        }*/
                        //go backURL 
                        alert("1");
                        //$("#iframeResult").attr('src', FirstIframeUrl);
                        alert("2")
                    });
                }
                
                //TODO: function over any input element in the page //relese 2: find by event all other element that cen to drage and to click
                $("#sreachALLinput").click(function(){// next mission sort by tag name, and click all "a" tag
                //find and set req element
                   // $("ul").empty();
                    yyThisAllinput = $("#iframeResult").contents().find("input, textarea, button, select, label, a");
                   
                    $(yyThisAllinput).each(function(index, element){
                        //get property
                        yyGetHtml = $(this).prop('outerHTML');
                        yyID = $(this).attr('id');
                        yyClass = $(this).prop('class');
                        yyTagName = $(this).prop("tagName").toLowerCase();
                        yyValue = $(this).val();
                        yyText = $(this).text();
                        
                        if(yyClass.includes(" ")){
                            yyClass.replace(" ", ".");
                        }
                        if(yyTagName == "a"){
                            alert("(:");
                            //checkA(this);
                            $(this).dblclick();
                        }
                        //add item in list- "result-in-list"
                        $('<li id="li'+ index + '"></li>').appendTo("#result-in-list");
                        
                        //set property of element to li
                        $('#li'+ index).text(yyGetHtml);
                        //yyTagName +" Id=\"" + yyID + "\", ClassName=\"." + yyClass + "\", Text=\"" + yyText + "\", Val=\"" + yyValue + "\".");
                        //TODO: relese 2.0 getCompledAttr()
                    });
                });
                
                //Srech by id, return all property
                $("#BtnId").click(function(){
                    //find and set  req element
                    inputIDID = $("#inputID").val();
                    yyThisID = $("#iframeResult").contents().find('#' + inputIDID);
                    
                     $("ul").empty();
                    $(yyThisID).each(function(index, element){
                    
                        //get property
                        yyID = $(this).attr('id');
                        yyClass = $(this).attr('class');
                        yyTagName = $(this).prop("tagName");
                        yyValue = $(this).val();
                        yyText = $(this).text();
                    
                        //add item in list- "result-in-list"
                        $('<li id="li'+ index + '"></li>').appendTo("#result-in-list");
                        
                        //set property of element to li
                        $('#li'+ index).text(yyTagName +" Id=\"" + yyID + "\", ClassName=\"." + yyClass.replace(" ", ".") + "\", Text=\"" + yyText + "\", Val=\"" + yyValue + "\".");
                    });
                    /*
                    TODO: relese 2.0 getCompledAttr(
                    //$("#inputXPath").val(yyXPhath);
                    var yyXPhath = //set XPATH --> document.evaluate().stringValue 
                    var yyTextLabel = 
                    var yyForLabel = 
                    return all property)
                    */
                });
                
                //Srech by Class, return all property // ====property of first element - TODO:SUPPORT FOR ALL LIST====//
                $("#BtnClass").click(function(){
                    //find and set req element
                    inputClass = $("#inputClass").val();
                    yyThisClass = $("#iframeResult").contents().find('.' + (inputClass.replace(" ", ".")));
                    $("ul").empty();
                    $(yyThisClass).each(function(index, element){
                    
                        //get property
                        yyID = $(this).attr('id');
                        yyTagName = $(this).prop("tagName");
                        yyValue = $(this).val();
                        yyText = $(this).text();
                    
                        //add item in list- "result-in-list"
                        $('<li id="li'+ index + '"></li>').appendTo("#result-in-list");
                        
                        //set property of element to li
                        $('#li'+ index).text("ID= " + yyID + " TagName= " + yyTagName + " Text= " + yyText + " Val= " + yyValue);
                    });
                    //TODO: relese 2.0 getCompledAttr()
                });

                //Srech by Tag-Name, return all property // ====property of first element - TODO:SUPPORT FOR ALL LIST====//
                $("#BtnTagName").click(function(){
                    //find and set req element
                    inputTagName = $("#inputTagName").val();
                    yyThisTagName = $("#iframeResult").contents().find(inputTagName);
                    $("ul").empty();
                    
                    $(yyThisTagName).each(function(index, element){
                    
                        //get property
                        yyID = $(this).attr('id');
                        yyClass = $(this).attr('class');
                        yyValue = $(this).val();
                        yyText = $(this).text();
                        
                        //add item in list- "result-in-list"
                        $('<li id="li'+ index + '"></li>').appendTo("#result-in-list");
                        
                        //set property of element to li
                        $('#li'+ index).text("ID= " + yyID + " ClassName= " + yyClass + " Text= " + yyText + " Val= " + yyValue);
                        //TODO: relese 2.0 getCompledAttr()
                    });
                });
                
                /*Srech by XPath, return all property 
                //NOT WORK!!!! ====property of first element - TODO:SUPPORT FOR ALL LIST====//
                $("#BtnXPath").click(function(){
                    //find and set req element
                    var inputXPath = $("#inputXPath").val();//;//html/body/form/div/input
                    //var yyThis = document.evaluate(inputXPath, document, null, XPathResult., true).ANY_TYPE;
                    yyThis = $("#iframeResult").contents().find(inputXPath);
                    alert(yyThis);
                    //get property
                    var yyID = $(yyThis).attr('id');
                    alert(yyID);
                    var yyClass = $(yyThis).attr('class');
                    var yyTagName = $(yyThis).prop("tagName");
                    //var yyValue = $(yyThis).val();
                    var yyText = $(yyThis).text();
                    //set property
                    $("#inputID").val(yyID);
                    $("#inputClass").val(yyClass);
                    $("#inputTagName").val(yyTagName);
                    //$("#inputVal").val(yyValue);
                    $("#inputText").val(yyText);
                    //TODO: relese 2.0 getCompledAttr()
                });*/
                
                //Srech by val, return all property 
                //NOT WORK!!!! ====property of first element - TODO:SUPPORT FOR ALL LIST====//
                $("#BtnVal").click(function(){
                    //find and set req element
                    inputVal = $("#inputVal").val();
                    yyThis = $("#iframeResult").contents().find(inputVal);
                    //get property
                    yyID = $(yyThis).attr('id');
                    yyClass = $(yyThis).attr('class');
                    yyTagName = $(yyThis).prop("tagName");
                    yyText = $(yyThis).text();
                    //set property
                    $("#inputID").val(yyID);
                    $("#inputClass").val(yyClass);
                    $("#inputText").val(yyText);
                    $("#inputTagName").val(yyTagName);
                    //TODO: relese 2.0 getCompledAttr()
                });
                
            });
        </script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
<!----> <div id="tryitLeaderboard" style="background-color:#ffffff">
            <div id="div-gpt-ad-1428407818244-0">Our Automation Will be Start</div>
        </div>
<!----> <div class="trytopnav">
            <div id="eUrl" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;overflow:auto;padding-left: 40%;">
                <input id="yy-eUrl" type="text" placeholder="Enter URL Here" value=""/>
                <button id=RunUrl class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green">Run »</button>
            </div>
        </div>
        <div id="container">
<!---->     <div id="navbarDropMenu" class="w3-dropdown-content w3-bar-block w3-border" style="z-index:5">
                <div class="w3-bar-block">
                <!--
    <a class="w3-bar-item w3-button" href="javascript:void(0);" title="Save" onclick="openMenu();click_savebtn()"><i class="fa fa-save" style="font-size:26px;margin-right:10px;"></i><span style="position:relative;top:-4px;left:2px;">Save Code</span>
      </a>
      <a class="w3-bar-item w3-button" href="javascript:void(0);" title="Load" onclick="openMenu();click_savebtn()"><i class="fa fa-save" style="font-size:26px;margin-right:10px;"></i><span style="position:relative;top:-4px;left:2px;">Load Code</span>
      </a>
    <a class="w3-bar-item w3-button" href="javascript:void(0);" id="saveGDriveBtn" title="Save to Google Drive" onclick="openMenu();click_google_savebtn()"><img src="./Tryit Editor v3.5_files/driveicon_32.png" alt="Save to Google Drive" title="Save to Google Drive" style="margin-right:10px;width:24px;"><span style="position:relative;left:1px;">Save to GitHub Drive</span>
      </a>
    <a class="w3-bar-item w3-button" href="javascript:void(0);" id="loadGDriveBtn" title="Load from Google Drive" onclick="openMenu();click_google_loadbtn()"><img src="./Tryit Editor v3.5_files/driveicon_32.png" alt="Load from Google Drive" title="Load from Google Drive" style="margin-right:10px;width:24px;"><span style="position:relative;left:1px;">Load from GitHub Drive</span>
      </a>
    -->
                </div>
            </div>
            <div id="textareacontainer">
                <div id="textarea">
                    <div id="textareawrapper">
                        <div class="CodeMirror cm-s-default CodeMirror-wrap">
                            <div class="CodeMirror-scroll" tabindex="-1">
                                <div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 201px; padding-right: 0px; padding-bottom: 0px;">
                                    <div style="position: relative; top: 0px;">
                                        <div id="IDID" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;">
                                            <input id="inputID" type="text" placeholder="Enter ID Here" default value="first-name"/>
                                            <button id="BtnId" class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green">Sreach »</button>
                                        <!--/div>
                                        <div id="yyClass" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;"-->
                                            
                                            <button id="sreachALLinput" class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green" >sreach ALL input »</button>
                                            <span>[1900]</span>
                                        </div>
                                        <div id="TagName" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;">
                                            <input id="inputTagName" type="text" placeholder="Enter Tag Name Here" value="input"/>
                                            <button id="BtnTagName" class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green">Sreach »</button>
                                            <span>[1900]</span>
                                        <!--/div>
                                        <div id="yyXPhath" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;"-->
                                            <input id="inputXPath" type="text" placeholder="Enter XPhath Here" value='//html/body/form/div/input' />
                                            <button id="BtnXPath" class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green" >Sreach »</button>
                                            <span>[1900]</span>
                                        </div>
                                        <div id="yyText" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;">
                                            <input id="inputText" type="text" placeholder="Enter Text Here" value=""/>
                                            <button id="BtnText" class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green" >Sreach »</button>
                                            <span>[1900]</span>
                                        <!--/div>
                                        <div id="yyVal" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;"-->
                                            <input id="inputVal" type="text" placeholder="Enter Value Here" value=""/>
                                            <button id="BtnVal" class="w3-button w3-bar-item w3-green w3-hover-white w3-hover-text-green">Sreach »</button>
                                            <span>[1900]</span>
                                            <div id="result" class="w3-bar w3-light-grey" style="border-top:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1;overflow:auto; padding-left: 5%; padding-top: 5%;">
                                                <ul id="result-in-list">
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="iframecontainer">
                <div id="iframe">
                    <div id="iframewrapper">
                        <iframe frameborder="0" id="iframeResult" name="iframeResult" src="lesson_4/lesson_4.html"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
